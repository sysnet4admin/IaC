apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: managed-nfs-storage
# CSI driver for NFS - replaces nfs-subdir-external-provisioner
provisioner: nfs.csi.k8s.io
parameters:
  # NFS server address (replace with your NFS server IP)
  server: 192.168.1.10
  # NFS share path (replace with your NFS export path)
  share: /nfs_shared/dynamic-vol
  # subDir pattern: creates directory as ${pvc.metadata.namespace}/${pvc.metadata.name}
  # This maintains similar behavior to the old pathPattern
  subDir: ${pvc.metadata.namespace}/${pvc.metadata.name}
  # Mount options (optional)
  # mountOptions: "nfsvers=4.1"
reclaimPolicy: Delete
volumeBindingMode: Immediate
allowVolumeExpansion: true
